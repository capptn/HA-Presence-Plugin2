<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anwesenheitssimulation</title>
  <link rel="stylesheet" href="web/style.css" />
</head>
<body>
  <div class="wrap">
    <header class="top">
      <div>
        <h1>Anwesenheitssimulation</h1>
        <p class="muted">Ingress UI · Recorder-Training · Zeitfenster · Vorschau</p>
      </div>
      <div class="actions">
        <button id="btn-train" class="btn">Neu anlernen</button>
        <button id="btn-step" class="btn">Jetzt ausführen</button>
        <button id="btn-start" class="btn primary">Start</button>
        <button id="btn-stop" class="btn danger">Stop</button>
      </div>
    </header>

    <section class="grid">
      <div class="card">
        <h2>Status</h2>
        <div class="kv">
          <div class="k">Läuft</div><div class="v" id="st-running">–</div>
          <div class="k">Nächste Ausführung</div><div class="v" id="st-next">–</div>
          <div class="k">Letzte Ausführung</div><div class="v" id="st-last">–</div>
          <div class="k">Letztes Training</div><div class="v" id="st-train">–</div>
        </div>
        <div id="st-laststep" class="log"></div>
      </div>

      <div class="card">
        <h2>Konfiguration</h2>

        <div class="row">
          <label>Entities (mehrfach)</label>
          <select id="entities" multiple size="10"></select>
          <div class="hint">Tipp: STRG/⌘ für Mehrfachauswahl.</div>
        </div>

        <div class="row two">
          <div>
            <label>Zeitfenster Start (HH:MM)</label>
            <input id="start_time" placeholder="18:00" />
          </div>
          <div>
            <label>Zeitfenster Ende (HH:MM)</label>
            <input id="end_time" placeholder="23:30" />
          </div>
        </div>

        <div class="row three">
          <div>
            <label>Intervall (Min.)</label>
            <input id="interval_min" type="number" min="1" max="60" />
          </div>
          <div>
            <label>Training Tage</label>
            <input id="training_days" type="number" min="1" max="60" />
          </div>
          <div>
            <label>Slot Minuten</label>
            <input id="slot_minutes" type="number" min="5" max="60" />
          </div>
        </div>

        <div class="row">
          <label>Randomness (0..1)</label>
          <input id="randomness" type="number" min="0" max="1" step="0.01" />
        </div>

        <div class="row two">
          <div>
            <label>Dunkelheit Modus</label>
            <select id="darkness_mode">
              <option value="sun">sun.sun</option>
              <option value="lux">Lux Sensor</option>
              <option value="none">Aus</option>
            </select>
          </div>
          <div>
            <label>Dunkelheit Entity</label>
            <input id="darkness_entity" placeholder="sun.sun" />
          </div>
        </div>

        <div class="row two">
          <div>
            <label>Sun Dark State</label>
            <input id="dark_state" placeholder="below_horizon" />
          </div>
          <div>
            <label>Lux Threshold</label>
            <input id="lux_threshold" type="number" min="0" max="200000" />
          </div>
        </div>

        <div class="row">
          <button id="btn-save" class="btn primary">Speichern</button>
          <span id="save-msg" class="muted"></span>
        </div>
      </div>

      <div class="card full">
        <h2>Vorschau (nächste Ausführungen)</h2>
        <div id="preview" class="preview"></div>
        <p class="muted small">„Expected ON“ ist eine Vorschau; bei Ausführung wird weiter randomisiert.</p>
      </div>
    </section>
  </div>

  <script src="web/app.js"></script>
</body>
</html>
